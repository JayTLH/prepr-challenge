document.addEventListener("DOMContentLoaded", function () {
    initMap();
});

var map;
var service;
var infowindow;

function createMarkers(place) {
    var location = new google.maps.LatLng(place.longitude, place.latitude);

    var marker = new google.maps.Marker({
        position: location,
        map: map,
        title: place.title,
    });
}

function initMap() {
    var center = new google.maps.LatLng(39.716217, -2.883372);

    map = new google.maps.Map(
        document.getElementById('map'), { center: center, zoom: 2 });

    var mapData = [{ "id": 1, "username": "labmanager", "organization": null, "title": "Linckia - Huai Hai Community", "description": null, "category": "Co-working Space", "privacy": "Public", "image_name": null, "latitude": "121.480206", "longitude": "31.224671", "address": "17th Floor, 1 Huai Hai Zhong Road, Huangpu, Shanghai, China", "city": "Shanghai", "country": "China", "university": null, "working_space": null, "technology": null, "incubator": null, "status": "1", "created_at": null, "updated_at": null }, { "id": 2, "username": "labmanager", "organization": null, "title": "Linckia - Dong Hai 7th", "description": null, "category": "Co-working Space", "privacy": "Public", "image_name": null, "latitude": "121.449214", "longitude": "31.226267", "address": "7th Floor, Dong Hai Plaza Building 3, Yuyuan East Road, Shanghai, China", "city": "Shanghai", "country": "China", "university": null, "working_space": null, "technology": null, "incubator": null, "status": "1", "created_at": null, "updated_at": null }, { "id": 3, "username": "labmanager", "organization": null, "title": "Chuangzhi Community", "description": null, "category": "Co-working Space", "privacy": "Public", "image_name": null, "latitude": "121.50768", "longitude": "31.30823", "address": "6F, Tower 2, Chuangzhi Science & Technology Center, 477 Zhengli Road, Shanghai, China", "city": "Shanghai", "country": "China", "university": null, "working_space": null, "technology": null, "incubator": null, "status": "1", "created_at": null, "updated_at": null }, { "id": 4, "username": "labmanager", "organization": null, "title": "COWORK - Chuanzhi World Business Center", "description": null, "category": "Co-working Space", "privacy": "Public", "image_name": null, "latitude": "121.524731", "longitude": "31.332154", "address": "3th Floor, Chuanzhi World Business Center Building 6,7, 500 Zheng Yue Road, Yangpu District, Shanghai, China", "city": "Shanghai", "country": "China", "university": null, "working_space": null, "technology": null, "incubator": null, "status": "1", "created_at": null, "updated_at": null }, { "id": 5, "username": "labmanager", "organization": null, "title": "SOHO 3Q - Bund 3Q l", "description": null, "category": "Co-working Space", "privacy": "Public", "image_name": null, "latitude": "121.492723", "longitude": "31.2315534", "address": "Bund SOHO, 88 2nd East Zhongshan Road, Huangpu District, Shanghai, China", "city": "Shanghai", "country": "China", "university": null, "working_space": null, "technology": null, "incubator": null, "status": "1", "created_at": null, "updated_at": null }, { "id": 6, "username": "labmanager", "organization": null, "title": "SOHO3Q - Bund 3Q II", "description": null, "category": "Co-working Space", "privacy": "Public", "image_name": null, "latitude": "121.492723", "longitude": "31.2315534", "address": "Bund SOHO, 88 2nd East Zhongshan Road, Huangpu District, Shanghai, China", "city": "Shanghai", "country": "China", "university": null, "working_space": null, "technology": null, "incubator": null, "status": "1", "created_at": null, "updated_at": null }, { "id": 7, "username": "labmanager", "organization": null, "title": "SOHO3Q - Sky 3Q", "description": null, "category": "Co-working Space", "privacy": "Public", "image_name": null, "latitude": "121.35243", "longitude": "31.2208583", "address": "968 Jin Zhong Road, Changning District, Shanghai, China", "city": "Shanghai", "country": "China", "university": null, "working_space": null, "technology": null, "incubator": null, "status": "1", "created_at": null, "updated_at": null }, { "id": 8, "username": "labmanager", "organization": null, "title": "Linckia - Tongji Community", "description": null, "category": "Co-working Space", "privacy": "Public", "image_name": null, "latitude": "121.504764", "longitude": "31.278778", "address": "1st Floor, Design Center Promotion Center, 1230 Siping Road, Yangpu District, Shanghai, China", "city": "Shanghai", "country": "China", "university": null, "working_space": null, "technology": null, "incubator": null, "status": "1", "created_at": null, "updated_at": null }, { "id": 9, "username": "labmanager", "organization": null, "title": "XNode - Zhang Jiang", "description": null, "category": "Co-working Space", "privacy": "Public", "image_name": null, "latitude": "121.605051", "longitude": "31.1812077", "address": "4F, 800 Naxian Road, Pudong District, Shanghai, China", "city": "Shanghai", "country": "China", "university": null, "working_space": null, "technology": null, "incubator": null, "status": "1", "created_at": null, "updated_at": null }, { "id": 10, "username": "labmanager", "organization": null, "title": "XNode - Hong Qiao", "description": null, "category": "Co-working Space", "privacy": "Public", "image_name": null, "latitude": "121.402548", "longitude": "31.204984", "address": "5F, Building D, Orient International Mansion, 85 Loushanguan Road, Changning District, Shanghai, China", "city": "Shanghai", "country": "China", "university": null, "working_space": null, "technology": null, "incubator": null, "status": "1", "created_at": null, "updated_at": null }, { "id": 11, "username": "labmanager", "organization": null, "title": "Naked Hub - Xikang", "description": null, "category": "Co-working Space", "privacy": "Public", "image_name": null, "latitude": "121.439496", "longitude": "31.24338", "address": "189 Changshou Road, Putuo District, Shanghai, China", "city": "Shanghai", "country": "China", "university": null, "working_space": null, "technology": null, "incubator": null, "status": "1", "created_at": null, "updated_at": null }, { "id": 12, "username": "labmanager", "organization": null, "title": "MIXPACE Townhide", "description": null, "category": "Co-working Space", "privacy": "Public", "image_name": null, "latitude": "121.465445", "longitude": "31.230828", "address": "612 Nan Jing Xi Lu, Shanghai, China", "city": "Shanghai", "country": "China", "university": null, "working_space": null, "technology": null, "incubator": null, "status": "1", "created_at": null, "updated_at": null }, { "id": 13, "username": "labmanager", "organization": null, "title": "Naked Hub - Fu Xing Lu", "description": null, "category": "Co-working Space", "privacy": "Public", "image_name": null, "latitude": "121.458184", "longitude": "31.212578", "address": "3th Floor, 1237 Fu Xing Zhong Road, Xuhui District, Shanghai, China", "city": "Shanghai", "country": "China", "university": null, "working_space": null, "technology": null, "incubator": null, "status": "1", "created_at": null, "updated_at": null }, { "id": 14, "username": "labmanager", "organization": null, "title": "We Geek", "description": null, "category": "Co-working Space", "privacy": "Public", "image_name": null, "latitude": "121.327414", "longitude": "31.09247645", "address": "Xinzhuang Lu 258, Palm Plaza, Building 32, Shanghai, China", "city": "Shanghai", "country": "China", "university": null, "working_space": null, "technology": null, "incubator": null, "status": "1", "created_at": null, "updated_at": null }, { "id": 15, "username": "labmanager", "organization": null, "title": "Terminal", "description": null, "category": "Co-working Space", "privacy": "Public", "image_name": null, "latitude": "44.7655064", "longitude": "41.7074429", "address": "34-36 Irakli Abashidze Street, Tbilisi, Georgia", "city": "Tbilisi", "country": "Georgia", "university": null, "working_space": null, "technology": null, "incubator": null, "status": "1", "created_at": null, "updated_at": null }, { "id": 16, "username": "labmanager", "organization": null, "title": "UG Startup Factory", "description": null, "category": "Co-working Space", "privacy": "Public", "image_name": null, "latitude": "44.7797785", "longitude": "41.7229554", "address": "77a Merab Kostava Street, Tbilisi, Georgia", "city": "Tbilisi", "country": "Georgia", "university": null, "working_space": null, "technology": null, "incubator": null, "status": "1", "created_at": null, "updated_at": null }, { "id": 17, "username": "labmanager", "organization": null, "title": "Vere Loft", "description": null, "category": "Co-working Space", "privacy": "Public", "image_name": null, "latitude": "44.783586", "longitude": "41.7062892", "address": "Khorava Street 3, Tbilisi, Georgia", "city": "Tbilisi", "country": "Georgia", "university": null, "working_space": null, "technology": null, "incubator": null, "status": "1", "created_at": null, "updated_at": null }, { "id": 18, "username": "labmanager", "organization": null, "title": "Generator 9.8", "description": null, "category": "Co-working Space", "privacy": "Public", "image_name": null, "latitude": "44.8020677", "longitude": "41.6997859", "address": "Antoneli street #29, Tbilisi, Georgia", "city": "Tbilisi", "country": "Georgia", "university": null, "working_space": null, "technology": null, "incubator": null, "status": "1", "created_at": null, "updated_at": null }, { "id": 19, "username": "labmanager", "organization": null, "title": "Publica", "description": null, "category": "Co-working Space", "privacy": "Public", "image_name": null, "latitude": "44.7999328", "longitude": "41.69745123", "address": "18 Lado Gudiashvili Street, Tbilisi, Georgia", "city": "Tbilisi", "country": "Georgia", "university": null, "working_space": null, "technology": null, "incubator": null, "status": "1", "created_at": null, "updated_at": null }, { "id": 20, "username": "labmanager", "organization": null, "title": "Dev X", "description": null, "category": "Co-working Space", "privacy": "Public", "image_name": null, "latitude": "72.5301689", "longitude": "23.0290001", "address": "B\/H Keshav Baugh Party Plot,, Near Shivalik High-Street., I I M, Vastrapur, Ahmedabad, Gujarat 380015, India, Vastrapur, Ahmedabad, India", "city": "Ahmedabad", "country": "India", "university": null, "working_space": null, "technology": null, "incubator": null, "status": "1", "created_at": null, "updated_at": null }, { "id": 21, "username": "labmanager", "organization": null, "title": "Uncubate", "description": null, "category": "Co-working Space", "privacy": "Public", "image_name": null, "latitude": "72.549655", "longitude": "23.0432348", "address": "308, Aeon Complex, Vijay Cross Road, Near Angira Society, Ahmedabad, India", "city": "Ahmedabad", "country": "India", "university": null, "working_space": null, "technology": null, "incubator": null, "status": "1", "created_at": null, "updated_at": null }, { "id": 22, "username": "labmanager", "organization": null, "title": "DoubleO", "description": null, "category": "Co-working Space", "privacy": "Public", "image_name": null, "latitude": "72.510955", "longitude": "23.032447", "address": "B501 Krishna Complex, Bodakdev, Ahmedabad, India", "city": "Ahmedabad", "country": "India", "university": null, "working_space": null, "technology": null, "incubator": null, "status": "1", "created_at": null, "updated_at": null }, { "id": 23, "username": "labmanager", "organization": null, "title": "Pravel CoWorking Space", "description": null, "category": "Co-working Space", "privacy": "Public", "image_name": null, "latitude": "72.4991682", "longitude": "22.9946966", "address": "Makarba, Ahmedabad, Gujarat, Makarba Road, S.G. Highway, Sarkhej, Ahmedabad, India", "city": "Ahmedabad", "country": "India", "university": null, "working_space": null, "technology": null, "incubator": null, "status": "1", "created_at": null, "updated_at": null }, { "id": 24, "username": "labmanager", "organization": null, "title": "14 The Hub", "description": null, "category": "Co-working Space", "privacy": "Public", "image_name": null, "latitude": "72.5168064", "longitude": "23.0418232", "address": "605 Venus Benecia Maruti Nexa Building Pakwaan restaurant service lane S.G. Highway, Ahmedabad, India", "city": "Ahmedabad", "country": "India", "university": null, "working_space": null, "technology": null, "incubator": null, "status": "1", "created_at": null, "updated_at": null }, { "id": 25, "username": "labmanager", "organization": null, "title": "Daftar - The coworking space", "description": null, "category": "Co-working Space", "privacy": "Public", "image_name": null, "latitude": "72.542312", "longitude": "23.0282646", "address": "Panjara Pol, Ambawadi, Ahmedabad, Gujarat 380015, India, IIM Road, Ahmedabad, India", "city": "Ahmedabad", "country": "India", "university": null, "working_space": null, "technology": null, "incubator": null, "status": "1", "created_at": null, "updated_at": null }, { "id": 26, "username": "labmanager", "organization": null, "title": "5B Colab", "description": null, "category": "Co-working Space", "privacy": "Public", "image_name": null, "latitude": "72.559113", "longitude": "23.03156937", "address": "5B Vishwabharti society, Opp BSNL office, Opposite BSNL telephone exchange, Ahmedabad, India", "city": "Ahmedabad", "country": "India", "university": null, "working_space": null, "technology": null, "incubator": null, "status": "1", "created_at": null, "updated_at": null }, { "id": 27, "username": "labmanager", "organization": null, "title": "Pravel Solutions", "description": null, "category": "Co-working Space", "privacy": "Public", "image_name": null, "latitude": "72.5148738", "longitude": "23.0119548", "address": "Dev Auram, Prahlad Nagar, Ahmedabad, India", "city": "Ahmedabad", "country": "India", "university": null, "working_space": null, "technology": null, "incubator": null, "status": "1", "created_at": null, "updated_at": null }, { "id": 28, "username": "labmanager", "organization": null, "title": "Next57 Coworking", "description": null, "category": "Co-working Space", "privacy": "Public", "image_name": null, "latitude": "72.5082121", "longitude": "23.0326554", "address": "2nd Floor, Block N, S.G. Road, Safal Mondeal Retail Park, Bodakdev Near, Rajpath Rangoli Rd, Ahmedabad, India", "city": "Ahmedabad", "country": "India", "university": null, "working_space": null, "technology": null, "incubator": null, "status": "1", "created_at": null, "updated_at": null }, { "id": 29, "username": "labmanager", "organization": null, "title": "InstaOffice", "description": null, "category": "Co-working Space", "privacy": "Public", "image_name": null, "latitude": "72.6831136", "longitude": "23.1586396", "address": "Gujarat International Finance Tec-City, Gujarat, Building 56A, Block No. 56, Road-5C, Zone-5, Gandhinagar, India", "city": "Gandhinagar", "country": "India", "university": null, "working_space": null, "technology": null, "incubator": null, "status": "1", "created_at": null, "updated_at": null }, { "id": 30, "username": "labmanager", "organization": null, "title": "Spaces", "description": null, "category": "Co-working Space", "privacy": "Public", "image_name": null, "latitude": "72.5243944", "longitude": "23.0263387", "address": "Iscon Emporio, Next to Star Bazaar, Jodhpur Crossroads, Ahmedabad, India", "city": "Ahmedabad", "country": "India", "university": null, "working_space": null, "technology": null, "incubator": null, "status": "1", "created_at": null, "updated_at": null }]

    mapData.forEach(place => {
        createMarkers(place)
    })
}